CREATE TABLE airline (
    airline_id SERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    country TEXT NOT NULL
);

CREATE TABLE flight (
    flight_id SERIAL PRIMARY KEY,
    airline_id INT NOT NULL,
    departing_airport TEXT NOT NULL,
    arriving_airport TEXT NOT NULL,
    departure_time TIMESTAMP NOT NULL,
    arrival_time TIMESTAMP NOT NULL,
    departing_gate TEXT NOT NULL,
    FOREIGN KEY (airline_id) REFERENCES airline(airline_id)
);

CREATE TABLE booking (
    booking_id SERIAL PRIMARY KEY,
    flight_id INT NOT NULL,
    passenger_name TEXT NOT NULL,
    ticket_price NUMERIC NOT NULL,
    FOREIGN KEY (flight_id) REFERENCES flight(flight_id)
);

INSERT INTO airline (name, country) VALUES
('KazAir', 'Turkey'),
('AirEasy', 'France'),
('FlyHigh', 'Brazil'),
('FlyFly', 'Poland'),
('AirOne', 'USA'),
('SkyJet', 'Russia'),
('GlobalAir', 'Germany'),
('SunFlight', 'Spain'),
('WindWings', 'Italy'),
('StarAir', 'UK'),
('BlueSky', 'Canada'),
('CloudNine', 'Japan'),
('EagleFly', 'China'),
('SwiftAir', 'Mexico'),
('NovaJet', 'Norway'),
('AeroLine', 'Sweden'),
('SkyHigh', 'India'),
('AirFast', 'Egypt'),
('JetStream', 'South Africa'),
('FlySafe', 'Australia');

INSERT INTO flight (airline_id, departing_airport, arriving_airport, departure_time, arrival_time, departing_gate) VALUES
(1,'Almaty','Istanbul','2025-10-01 09:00','2025-10-01 12:00','A1'),
(2,'Paris','Rome','2025-10-02 08:30','2025-10-02 10:30','B2'),
(3,'Sao Paulo','Lisbon','2025-10-03 14:00','2025-10-03 20:00','C3'),
(4,'Warsaw','Berlin','2025-10-04 16:00','2025-10-04 18:00','D4'),
(5,'New York','London','2025-10-05 12:00','2025-10-05 20:00','E5'),
(6,'Moscow','St. Petersburg','2025-10-06 09:00','2025-10-06 10:30','F6'),
(7,'Frankfurt','Madrid','2025-10-07 13:00','2025-10-07 15:30','G7'),
(8,'Barcelona','Paris','2025-10-08 11:00','2025-10-08 12:30','H8'),
(9,'Rome','Milan','2025-10-09 08:00','2025-10-09 09:30','I9'),
(10,'London','Edinburgh','2025-10-10 07:00','2025-10-10 08:30','J10'),
(11,'Toronto','Vancouver','2025-10-11 10:00','2025-10-11 14:00','K11'),
(12,'Tokyo','Osaka','2025-10-12 09:30','2025-10-12 11:00','L12'),
(13,'Beijing','Shanghai','2025-10-13 12:00','2025-10-13 14:30','M13'),
(14,'Mexico City','Cancun','2025-10-14 07:00','2025-10-14 09:00','N14'),
(15,'Oslo','Bergen','2025-10-15 08:00','2025-10-15 09:30','O15'),
(16,'Stockholm','Gothenburg','2025-10-16 10:00','2025-10-16 11:30','P16'),
(17,'Mumbai','Delhi','2025-10-17 06:00','2025-10-17 08:00','Q17'),
(18,'Cairo','Alexandria','2025-10-18 13:00','2025-10-18 14:30','R18'),
(19,'Johannesburg','Cape Town','2025-10-19 14:00','2025-10-19 16:30','S19'),
(20,'Sydney','Melbourne','2025-10-20 09:00','2025-10-20 10:30','T20'),
(21,'Astana','Istanbul','2025-10-21 08:00','2025-10-21 11:00','A2'),
(22,'Nice','Paris','2025-10-22 09:00','2025-10-22 10:30','B3'),
(23,'Rio','Sao Paulo','2025-10-23 12:00','2025-10-23 18:00','C4'),
(24,'Berlin','Munich','2025-10-24 07:00','2025-10-24 09:00','D5'),
(25,'Boston','Chicago','2025-10-25 11:00','2025-10-25 15:00','E6'),
(26,'St. Petersburg','Kazan','2025-10-26 09:00','2025-10-26 10:30','F7'),
(27,'Munich','Frankfurt','2025-10-27 13:00','2025-10-27 14:30','G8'),
(28,'Madrid','Seville','2025-10-28 11:00','2025-10-28 12:30','H9'),
(29,'Venice','Florence','2025-10-29 08:00','2025-10-29 09:30','I10'),
(30,'Manchester','Liverpool','2025-10-30 07:00','2025-10-30 08:30','J11'),
(31,'Vancouver','Montreal','2025-10-31 08:00','2025-10-31 12:00','K12'),
(32,'Hiroshima','Tokyo','2025-11-01 09:00','2025-11-01 10:30','L13'),
(33,'Shanghai','Beijing','2025-11-02 12:00','2025-11-02 14:30','M14'),
(34,'Cancun','Mexico City','2025-11-03 07:00','2025-11-03 09:00','N15'),
(35,'Bergen','Oslo','2025-11-04 08:00','2025-11-04 09:30','O16'),
(36,'Gothenburg','Stockholm','2025-11-05 10:00','2025-11-05 11:30','P17'),
(37,'Delhi','Mumbai','2025-11-06 06:00','2025-11-06 08:00','Q18'),
(38,'Alexandria','Cairo','2025-11-07 13:00','2025-11-07 14:30','R19'),
(39,'Cape Town','Johannesburg','2025-11-08 14:00','2025-11-08 16:30','S20'),
(40,'Melbourne','Sydney','2025-11-09 09:00','2025-11-09 10:30','T21'),
(41,'Chicago','Miami','2025-12-01 08:00','2025-12-01 12:00','U1'),
(42,'Moscow','Kiev','2025-12-01 09:00','2025-12-01 11:00','V2'),
(43,'Lisbon','Madrid','2025-12-02 10:00','2025-12-02 11:30','W3'),
(44,'Rome','Athens','2025-12-02 07:00','2025-12-02 09:00','X4'),
(45,'London','Dublin','2025-12-03 12:00','2025-12-03 13:30','Y5'),
(46,'Astana','Shymkent','2025-12-19 07:00','2025-12-19 09:00','E37'),
(47,'Paris','Marseille','2025-12-19 08:00','2025-12-19 09:30','F38'),
(48,'Sao Paulo','Belo Horizonte','2025-12-20 10:00','2025-12-20 12:00','G39'),
(49,'Berlin','Dresden','2025-12-20 11:00','2025-12-20 12:30','H40'),
(50,'Edinburgh','Oslo','2025-12-03 15:00','2025-12-03 17:00','Z6'),
(51,'Montreal','Toronto','2025-12-04 08:30','2025-12-04 10:30','A7'),
(52,'Tokyo','Nagoya','2025-12-04 09:00','2025-12-04 10:30','B8'),
(53,'Shanghai','Guangzhou','2025-12-05 11:00','2025-12-05 13:00','C9'),
(54,'Cancun','Havana','2025-12-05 06:00','2025-12-05 08:00','D10'),
(55,'Bergen','Trondheim','2025-12-06 09:00','2025-12-06 10:30','E11'),
(56,'Stockholm','Copenhagen','2025-12-06 10:00','2025-12-06 11:30','F12'),
(57,'Delhi','Bangalore','2025-12-07 07:00','2025-12-07 09:00','G13'),
(58,'Cairo','Luxor','2025-12-07 12:00','2025-12-07 13:30','H14'),
(59,'Johannesburg','Durban','2025-12-08 09:00','2025-12-08 11:00','I15'),
(60,'Sydney','Brisbane','2025-12-08 08:00','2025-12-08 09:30','J16'),
(61,'Istanbul','Ankara','2025-12-09 09:00','2025-12-09 11:00','K17'),
(62,'Paris','Lyon','2025-12-09 08:30','2025-12-09 10:00','L18'),
(63,'Sao Paulo','Rio','2025-12-10 07:00','2025-12-10 09:00','M19'),
(64,'Berlin','Hamburg','2025-12-10 12:00','2025-12-10 13:30','N20'),
(65,'New York','Boston','2025-12-11 09:00','2025-12-11 11:00','O21'),
(66,'Moscow','St. Petersburg','2025-12-11 06:00','2025-12-11 08:00','P22'),
(67,'Frankfurt','Dusseldorf','2025-12-12 10:00','2025-12-12 11:30','Q23'),
(68,'Barcelona','Valencia','2025-12-12 11:00','2025-12-12 12:30','R24'),
(69,'Rome','Naples','2025-12-13 07:00','2025-12-13 08:30','S25'),
(70,'London','Manchester','2025-12-13 12:00','2025-12-13 13:30','T26'),
(71,'Toronto','Ottawa','2025-12-14 08:00','2025-12-14 10:00','U27'),
(72,'Tokyo','Sapporo','2025-12-14 09:30','2025-12-14 11:00','V28'),
(73,'Beijing','Shenzhen','2025-12-15 06:00','2025-12-15 08:00','W29'),
(74,'Cancun','Merida','2025-12-15 10:00','2025-12-15 11:30','X30'),
(75,'Bergen','Stavanger','2025-12-16 07:00','2025-12-16 08:30','Y31'),
(76,'Stockholm','Malmo','2025-12-16 09:00','2025-12-16 10:30','Z32'),
(77,'Delhi','Hyderabad','2025-12-17 08:00','2025-12-17 10:00','A33'),
(78,'Cairo','Aswan','2025-12-17 11:00','2025-12-17 13:00','B34'),
(79,'Johannesburg','Pretoria','2025-12-18 06:00','2025-12-18 08:00','C35'),
(80,'Sydney','Adelaide','2025-12-18 09:00','2025-12-18 10:30','D36'),
(81,'Ankara','Izmir','2025-12-29 07:00','2025-12-29 09:00','A57'),
(82,'Lyon','Nice','2025-12-29 08:00','2025-12-29 09:30','B58'),
(83,'Rio','Curitiba','2025-12-30 10:00','2025-12-30 12:00','C59'),
(84,'Hamburg','Cologne','2025-12-30 11:00','2025-12-30 12:30','D60')
(85,'Miami','Atlanta','2025-12-21 08:00','2025-12-21 10:00','E41'),
(86,'Kiev','Minsk','2025-12-21 09:00','2025-12-21 11:00','F42'),
(87,'Madrid','Barcelona','2025-12-22 07:00','2025-12-22 08:30','G43'),
(88,'Athens','Thessaloniki','2025-12-22 10:00','2025-12-22 11:30','H44'),
(89,'Dublin','Belfast','2025-12-23 12:00','2025-12-23 13:00','I45'),
(90,'Oslo','Helsinki','2025-12-23 09:00','2025-12-23 10:30','J46'),
(91,'Toronto','Halifax','2025-12-24 08:00','2025-12-24 10:30','K47'),
(92,'Nagoya','Fukuoka','2025-12-24 09:30','2025-12-24 11:00','L48'),
(93,'Guangzhou','Shenzhen','2025-12-25 06:00','2025-12-25 07:30','M49'),
(94,'Havana','Santo Domingo','2025-12-25 11:00','2025-12-25 12:30','N50'),
(95,'Trondheim','Molde','2025-12-26 07:00','2025-12-26 08:30','O51'),
(96,'Copenhagen','Aarhus','2025-12-26 09:00','2025-12-26 10:30','P52'),
(97,'Bangalore','Chennai','2025-12-27 06:00','2025-12-27 08:00','Q53'),
(98,'Luxor','Aswan','2025-12-27 11:00','2025-12-27 12:30','R54'),
(99,'Durban','Port Elizabeth','2025-12-28 08:00','2025-12-28 10:00','S55'),
(100,'Brisbane','Cairns','2025-12-28 09:00','2025-12-28 11:00','T56'),


INSERT INTO booking (flight_id, passenger_name, ticket_price) VALUES
(1,'Айсулу',15000),(1,'Нурлан',12000),
(2,'Мария',6000),(2,'Олег',11000),
(3,'Кайрат',13000),(3,'Дина',12500),
(4,'Алия',14500),(4,'Иван',13500),
(5,'Daniel',16000),(5,'Жанна',15000),
(6,'Тимур',13000),(6,'Екатерина',14000),
(7,'Азамат',12500),(7,'Olga',13500),
(8,'Laura',9900),(8,'Бекзат',15000),
(9,'Liam',15000),(9,'Ainur',14000),
(10,'Oliver',15500),(10,'Sara',14500),
(11,'Sophia',15000),(11,'Max',14000),
(12,'Hiroshi',15000),(12,'Yumi',14000),
(13,'Chen',16000),(13,'Li',4000),
(14,'Carlos',15000),(14,'Maria',14000),
(15,'Oskar',15000),(15,'Ingrid',14000),
(16,'Erik',14500),(16,'Lena',13500),
(17,'Raj',15000),(17,'Anika',14000),
(18,'Mohamed',15000),(18,'Sara',14000),
(19,'Thabo',15000),(19,'Sizwe',14000),
(20,'Jack',15000),(20,'Emily',14000),
(21,'Ainur',13500),(21,'Diana',14000),
(22,'Ivan',15000),(22,'Olga',8500),
(23,'Max',15500),(23,'Zhanna',13500),
(24,'Nurlan',12500),(24,'Lara',14000),
(25,'Kairat',13000),(25,'Sophia',15000),
(26,'Daniel',9500),(26,'Alina',14000),
(27,'Aizhan',13500),(27,'William',15000),
(28,'Arman',13000),(28,'Emma',14500),
(29,'John',16000),(29,'Aya',14000),
(30,'Maksim',5000),(30,'Amira',13500),
(31,'Nikolai',14500),(31,'Sara',15000),
(32,'Lucas',9500),(32,'Altynay',13500),
(33,'Elena',14000),(33,'Bektas',13000),
(34,'Liam',15000),(34,'Dina',14000),
(35,'Oliver',15500),(35,'Anara',13500),
(36,'Mia',15000),(36,'Timur',6000),
(37,'Olga',13500),(37,'Kairat',14500),
(38,'Laura',7700),(38,'Zhannat',14000),
(39,'John',16000),(39,'Ayan',13500),
(40,'Sara',14500),(40,'Bekzat',15000),
(41,'Amira',13500),(41,'Maxim',15000),
(42,'Anna',14000),(42,'Nikolai',14500),
(43,'Lucas',15000),(43,'Dina',13500),
(44,'Elena',13000),(44,'Liam',9500),
(45,'Oliver',15000),(45,'Sara',4000),
(46,'Hiroshi',15000),(46,'Yumi',14000),
(47,'Chen',16000),(47,'Li',14000),
(48,'Carlos',15000),(48,'Maria',14000),
(49,'Oskar',15000),(49,'Ingrid',14000),
(50,'Erik',14500),(50,'Lena',13500),
(51,'Raj',15000),(51,'Anika',14000),
(52,'Mohamed',15000),(52,'Sara',14000),
(53,'Thabo',15000),(53,'Sizwe',14000),
(54,'Jack',15000),(54,'Emily',4000),
(55,'Ainur',13500),(55,'Diana',14000),
(56,'Ivan',15000),(56,'Olga',14500),
(57,'Max',15500),(57,'Zhanna',13500),
(58,'Nurlan',2500),(58,'Lara',14000),
(59,'Kairat',13000),(59,'Sophia',15000),
(60,'Daniel',14500),(60,'Alina',14000),
(61,'Aizhan',13500),(61,'William',15000),
(62,'Arman',13000),(62,'Emma',14500),
(63,'John',16000),(63,'Aya',14000),
(64,'Maksim',15000),(64,'Amira',13500),
(65,'Nikolai',14500),(65,'Sara',15000),
(66,'Lucas',15500),(66,'Altynay',13500),
(67,'Elena',14000),(67,'Bektas',3000),
(68,'Liam',15000),(68,'Dina',14000),
(69,'Oliver',15500),(69,'Anara',13500),
(70,'Mia',5000),(70,'Timur',14000),
(71,'Olga',13500),(71,'Kairat',14500),
(72,'Laura',15000),(72,'Zhannat',14000),
(73,'John',6000),(73,'Ayan',13500),
(74,'Sara',14500),(74,'Bekzat',15000),
(75,'Amira',13500),(75,'Maxim',15000),
(76,'Anna',14000),(76,'Nikolai',14500),
(77,'Lucas',15000),(77,'Dina',13500),
(78,'Elena',13000),(78,'Liam',14500),
(79,'Oliver',6000),(79,'Sara',14000),
(80,'Hiroshi',15000),(80,'Yumi',14000),
(81,'Chen',16000),(81,'Li',14000),
(82,'Carlos',15000),(82,'Maria',14000),
(83,'Oskar',15000),(83,'Ingrid',4000),
(84,'Erik',14500),(84,'Lena',13500),
(85,'Raj',8500),(85,'Anika',14000),
(86,'Mohamed',15000),(86,'Sara',14000),
(87,'Thabo',15000),(87,'Sizwe',14000),
(88,'Jack',15000),(88,'Emily',14000),
(89,'Ainur',13500),(89,'Diana',14000),
(90,'Ivan',15000),(90,'Olga',14500),
(91,'Max',15500),(91,'Zhanna',9200),
(92,'Nurlan',12500),(92,'Lara',14000),
(93,'Kairat',13000),(93,'Sophia',15000),
(94,'Daniel',6800),(94,'Alina',14000),
(95,'Aizhan',13500),(95,'William',15000),
(96,'Arman',13000),(96,'Emma',14500),
(97,'John',16000),(97,'Aya',6000),
(98,'Maksim',15000),(98,'Amira',13500),
(99,'Nikolai',14500),(99,'Sara',15000),
(100,'Lucas',3500),(100,'Altynay',13500);


DELETE FROM flight WHERE EXTRACT(YEAR FROM arrival_time) = 2024;

UPDATE booking SET ticket_price = ticket_price * 1.15;

DELETE FROM booking WHERE ticket_price < 10000;
